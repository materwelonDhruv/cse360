<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (23) on Fri Apr 25 20:48:56 MST 2025 -->
<title>StaffMessages</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="dc.created" content="2025-04-25">
<meta name="description" content="declaration: package: database.repository.repos, class: StaffMessages">
<meta name="generator" content="javadoc/ClassWriter">
<link rel="stylesheet" type="text/css" href="../../../resource-files/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../resource-files/stylesheet.css" title="Style">
<script type="text/javascript" src="../../../script-files/script.js"></script>
<script type="text/javascript" src="../../../script-files/jquery-3.7.1.min.js"></script>
<script type="text/javascript" src="../../../script-files/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">const pathtoroot = "../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<header role="banner">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="nav-content">
<div class="nav-menu-button"><button id="navbar-toggle-button" aria-controls="navbar-top" aria-expanded="false" aria-label="Toggle navigation links"><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span><span class="nav-bar-toggle-icon">&nbsp;</span></button></div>
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../index.html">Overview</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../search.html">Search</a></li>
<li><a href="../../../help-doc.html#class">Help</a></li>
</ul>
</div>
</div>
<div class="sub-nav">
<div class="nav-content">
<ol class="sub-nav-list">
<li><a href="package-summary.html">database.repository.repos</a></li>
<li><a href="StaffMessages.html" class="current-selection">StaffMessages</a></li>
</ol>
<div class="nav-list-search">
<input type="text" id="search-input" disabled placeholder="Search" aria-label="Search in documentation" autocomplete="off">
<input type="reset" id="reset-search" disabled value="Reset">
</div>
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="main-grid">
<nav role="navigation" class="toc" aria-label="Table of contents">
<div class="toc-header">Contents&nbsp;
<input type="text" class="filter-input" disabled placeholder="Filter" aria-label="Filter table of contents" autocomplete="off">
<input type="reset" class="reset-filter" disabled value="Reset">
</div>
<button class="hide-sidebar"><span>Hide sidebar&nbsp;</span>&#10094;</button><button class="show-sidebar">&#10095;<span>&nbsp;Show sidebar</span></button>
<ol class="toc-list">
<li><a href="#" tabindex="0">Description</a></li>
<li><a href="#nested-class-summary" tabindex="0">Nested Class Summary</a></li>
<li><a href="#field-summary" tabindex="0">Field Summary</a></li>
<li><a href="#constructor-summary" tabindex="0">Constructor Summary</a></li>
<li><a href="#method-summary" tabindex="0">Method Summary</a></li>
<li><a href="#field-detail" tabindex="0">Field Details</a>
<ol class="toc-list">
<li><a href="#messagesRepo" tabindex="0">messagesRepo</a></li>
<li><a href="#usersRepo" tabindex="0">usersRepo</a></li>
<li><a href="#baseJoinQuery" tabindex="0">baseJoinQuery</a></li>
</ol>
</li>
<li><a href="#constructor-detail" tabindex="0">Constructor Details</a>
<ol class="toc-list">
<li><a href="#%3Cinit%3E(java.sql.Connection)" tabindex="0">StaffMessages(Connection)</a></li>
</ol>
</li>
<li><a href="#method-detail" tabindex="0">Method Details</a>
<ol class="toc-list">
<li><a href="#create(database.model.entities.StaffMessage)" tabindex="0">create(StaffMessage)</a></li>
<li><a href="#getById(int)" tabindex="0">getById(int)</a></li>
<li><a href="#getAll()" tabindex="0">getAll()</a></li>
<li><a href="#build(java.sql.ResultSet)" tabindex="0">build(ResultSet)</a></li>
<li><a href="#update(database.model.entities.StaffMessage)" tabindex="0">update(StaffMessage)</a></li>
<li><a href="#delete(int)" tabindex="0">delete(int)</a></li>
<li><a href="#getUniqueChats(int)" tabindex="0">getUniqueChats(int)</a></li>
<li><a href="#loadChat(int,int)" tabindex="0">loadChat(int, int)</a></li>
<li><a href="#sendMessage(database.model.entities.Message,int,int)" tabindex="0">sendMessage(Message, int, int)</a></li>
</ol>
</li>
</ol>
</nav>
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h1 title="Class StaffMessages" class="title">Class StaffMessages</h1>
</div>
<div class="inheritance" title="Inheritance Tree"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">java.lang.Object</a>
<div class="inheritance"><a href="../Repository.html" title="class in database.repository">database.repository.Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;
<div class="inheritance">database.repository.repos.StaffMessages</div>
</div>
</div>
<section class="class-description" id="class-description">
<div class="horizontal-scroll">
<dl class="notes">
<dt>All Implemented Interfaces:</dt>
<dd><code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public class </span><span class="element-name type-name-label">StaffMessages</span>
<span class="extends-implements">extends <a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</span></div>
<div class="block">Repository class for managing <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entities in the database.
 <p>
 This class provides methods for performing CRUD operations on the "StaffMessages" table, including creation,
 retrieval, updating, and deletion of staff messages. It also implements custom operations for retrieving unique chat
 partners, loading an entire chat between a staff member and a user, and sending new messages.
 </p></div>
<dl class="notes">
<dt>Author:</dt>
<dd>Dhruv</dd>
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../Repository.html" title="class in database.repository"><code>Repository</code></a></li>
</ul>
</dd>
</dl>
</div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ======== NESTED CLASS SUMMARY ======== -->
<li>
<section class="nested-class-summary" id="nested-class-summary">
<h2>Nested Class Summary</h2>
<div class="inherited-list">
<h3 id="nested-classes-inherited-from-class-database.repository.Repository">Nested classes/interfaces inherited from class&nbsp;database.repository.<a href="../Repository.html" title="class in database.repository">Repository</a></h3>
<code><a href="../Repository.SqlConsumer.html" title="interface in database.repository">Repository.SqlConsumer</a>, <a href="../Repository.SqlFunction.html" title="interface in database.repository">Repository.SqlFunction</a>&lt;<a href="../Repository.SqlFunction.html" title="type parameter in Repository.SqlFunction">R</a>&gt;, <a href="../Repository.SqlOperation.html" title="interface in database.repository">Repository.SqlOperation</a>&lt;<a href="../Repository.SqlOperation.html" title="type parameter in Repository.SqlOperation">R</a>&gt;</code></div>
</section>
</li>
<!-- =========== FIELD SUMMARY =========== -->
<li>
<section class="field-summary" id="field-summary">
<h2>Field Summary</h2>
<div class="caption"><span>Fields</span></div>
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Field</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color"><code>private final <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></code></div>
<div class="col-second even-row-color"><code><a href="#baseJoinQuery" class="member-name-link">baseJoinQuery</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
<div class="col-first odd-row-color"><code>private final <a href="Messages.html" title="class in database.repository.repos">Messages</a></code></div>
<div class="col-second odd-row-color"><code><a href="#messagesRepo" class="member-name-link">messagesRepo</a></code></div>
<div class="col-last odd-row-color">&nbsp;</div>
<div class="col-first even-row-color"><code>private final <a href="Users.html" title="class in database.repository.repos">Users</a></code></div>
<div class="col-second even-row-color"><code><a href="#usersRepo" class="member-name-link">usersRepo</a></code></div>
<div class="col-last even-row-color">&nbsp;</div>
</div>
<div class="inherited-list">
<h3 id="fields-inherited-from-class-database.repository.Repository">Fields inherited from class&nbsp;database.repository.<a href="../Repository.html" title="class in database.repository">Repository</a></h3>
<code><a href="../Repository.html#connection">connection</a></code></div>
</section>
</li>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<li>
<section class="constructor-summary" id="constructor-summary">
<h2>Constructor Summary</h2>
<div class="caption"><span>Constructors</span></div>
<div class="summary-table two-column-summary">
<div class="table-header col-first">Constructor</div>
<div class="table-header col-last">Description</div>
<div class="col-constructor-name even-row-color"><code><a href="#%3Cinit%3E(java.sql.Connection)" class="member-name-link">StaffMessages</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;connection)</code></div>
<div class="col-last even-row-color">
<div class="block">Constructor for the <code>StaffMessages</code> repository.</div>
</div>
</div>
</section>
</li>
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab4" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab4', 3)" class="table-tab">Concrete Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel" aria-labelledby="method-summary-table-tab0">
<div class="summary-table three-column-summary">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#build(java.sql.ResultSet)" class="member-name-link">build</a><wbr>(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;rs)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Builds a <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object from the current row of the provided <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a>.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#create(database.model.entities.StaffMessage)" class="member-name-link">create</a><wbr>(<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&nbsp;staffMessage)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Creates a new staff message in the "StaffMessages" table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#delete(int)" class="member-name-link">delete</a><wbr>(int&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Deletes a staff message from the "StaffMessages" table.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getAll()" class="member-name-link">getAll</a>()</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves all staff messages from the "StaffMessages" table.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getById(int)" class="member-name-link">getById</a><wbr>(int&nbsp;id)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves a staff message by its primary key ID.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../model/entities/User.html" title="class in database.model.entities">User</a>&gt;</code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#getUniqueChats(int)" class="member-name-link">getUniqueChats</a><wbr>(int&nbsp;staffId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Retrieves all unique users that a given staff member is chatting with.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a><wbr>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#loadChat(int,int)" class="member-name-link">loadChat</a><wbr>(int&nbsp;userId,
 int&nbsp;staffId)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Loads the complete chat history between a specific user and a staff member.</div>
</div>
<div class="col-first odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></code></div>
<div class="col-second odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#sendMessage(database.model.entities.Message,int,int)" class="member-name-link">sendMessage</a><wbr>(<a href="../../model/entities/Message.html" title="class in database.model.entities">Message</a>&nbsp;message,
 int&nbsp;userId,
 int&nbsp;staffId)</code></div>
<div class="col-last odd-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Sends a new message between a user and a staff member.</div>
</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4"><code><a href="#update(database.model.entities.StaffMessage)" class="member-name-link">update</a><wbr>(<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&nbsp;staffMessage)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab4">
<div class="block">Updates an existing staff message entry.</div>
</div>
</div>
</div>
</div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-database.repository.Repository">Methods inherited from class&nbsp;database.repository.<a href="../Repository.html" title="class in database.repository">Repository</a></h3>
<code><a href="../Repository.html#executeInsert(java.lang.String,database.repository.Repository.SqlConsumer)">executeInsert</a>, <a href="../Repository.html#executeUpdate(java.lang.String,database.repository.Repository.SqlConsumer)">executeUpdate</a>, <a href="../Repository.html#queryForBoolean(java.lang.String,database.repository.Repository.SqlConsumer)">queryForBoolean</a>, <a href="../Repository.html#queryForList(java.lang.String,database.repository.Repository.SqlConsumer,database.repository.Repository.SqlFunction)">queryForList</a>, <a href="../Repository.html#queryForObject(java.lang.String,database.repository.Repository.SqlConsumer,database.repository.Repository.SqlFunction)">queryForObject</a>, <a href="../Repository.html#wrap(database.repository.Repository.SqlOperation)">wrap</a></code></div>
<div class="inherited-list">
<h3 id="methods-inherited-from-class-java.lang.Object">Methods inherited from class&nbsp;java.lang.<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html" title="class or interface in java.lang" class="external-link">Object</a></h3>
<code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#clone()" title="class or interface in java.lang" class="external-link">clone</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#equals(java.lang.Object)" title="class or interface in java.lang" class="external-link">equals</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#finalize()" title="class or interface in java.lang" class="external-link">finalize</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#getClass()" title="class or interface in java.lang" class="external-link">getClass</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#hashCode()" title="class or interface in java.lang" class="external-link">hashCode</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notify()" title="class or interface in java.lang" class="external-link">notify</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#notifyAll()" title="class or interface in java.lang" class="external-link">notifyAll</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#toString()" title="class or interface in java.lang" class="external-link">toString</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait()" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long)" title="class or interface in java.lang" class="external-link">wait</a>, <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/Object.html#wait(long,int)" title="class or interface in java.lang" class="external-link">wait</a></code></div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ FIELD DETAIL =========== -->
<li>
<section class="field-details" id="field-detail">
<h2>Field Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="messagesRepo">
<h3>messagesRepo</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="Messages.html" title="class in database.repository.repos">Messages</a></span>&nbsp;<span class="element-name">messagesRepo</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="usersRepo">
<h3>usersRepo</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="Users.html" title="class in database.repository.repos">Users</a></span>&nbsp;<span class="element-name">usersRepo</span></div>
</div>
</section>
</li>
<li>
<section class="detail" id="baseJoinQuery">
<h3>baseJoinQuery</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">private final</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a></span>&nbsp;<span class="element-name">baseJoinQuery</span></div>
<dl class="notes">
<dt>See Also:</dt>
<dd>
<ul class="tag-list">
<li><a href="../../../constant-values.html#database.repository.repos.StaffMessages.baseJoinQuery">Constant Field Values</a></li>
</ul>
</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<li>
<section class="constructor-details" id="constructor-detail">
<h2>Constructor Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="&lt;init&gt;(java.sql.Connection)">
<h3>StaffMessages</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="element-name">StaffMessages</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/Connection.html" title="class or interface in java.sql" class="external-link">Connection</a>&nbsp;connection)</span>
              throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Constructor for the <code>StaffMessages</code> repository.
 <p>
 Initializes the repository with the provided database connection.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>connection</code> - The database connection to be used by this repository.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If an error occurs during initialization.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="create(database.model.entities.StaffMessage)">
<h3>create</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></span>&nbsp;<span class="element-name">create</span><wbr><span class="parameters">(<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&nbsp;staffMessage)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Creates a new staff message in the "StaffMessages" table.
 <p>
 This method validates the provided <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entity, creates its underlying <a href="../../model/entities/Message.html" title="class in database.model.entities"><code>Message</code></a> entry,
 and inserts the corresponding record into the "StaffMessages" table.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#create(T)">create</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#create(T)">create</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>staffMessage</code> - The <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entity to create.</dd>
<dt>Returns:</dt>
<dd>The created <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object with its primary key set.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the staff message fails validation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getById(int)">
<h3>getById</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></span>&nbsp;<span class="element-name">getById</span><wbr><span class="parameters">(int&nbsp;id)</span></div>
<div class="block">Retrieves a staff message by its primary key ID.
 <p>
 This method returns a <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entity by joining with the underlying message data.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#getById(int)">getById</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#getById(int)">getById</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>id</code> - The primary key (staffMessageID) of the staff message.</dd>
<dt>Returns:</dt>
<dd>The <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object corresponding to the provided ID, or <code>null</code> if not found.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getAll()">
<h3>getAll</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</span>&nbsp;<span class="element-name">getAll</span>()</div>
<div class="block">Retrieves all staff messages from the "StaffMessages" table.
 <p>
 This method returns a list of all <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entities stored in the database.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#getAll()">getAll</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#getAll()">getAll</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Returns:</dt>
<dd>A <code>List</code> of <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> objects.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="build(java.sql.ResultSet)">
<h3>build</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></span>&nbsp;<span class="element-name">build</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link">ResultSet</a>&nbsp;rs)</span>
                   throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block">Builds a <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object from the current row of the provided <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a>.
 <p>
 Maps the columns from the SQL query into a fully populated <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entity.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#build(java.sql.ResultSet)">build</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#build(java.sql.ResultSet)">build</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>rs</code> - The <a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/ResultSet.html" title="class or interface in java.sql" class="external-link"><code>ResultSet</code></a> containing staff message data.</dd>
<dt>Returns:</dt>
<dd>The built <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.sql/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - If an error occurs while mapping columns.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="update(database.model.entities.StaffMessage)">
<h3>update</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></span>&nbsp;<span class="element-name">update</span><wbr><span class="parameters">(<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&nbsp;staffMessage)</span>
                    throws <span class="exceptions"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></span></div>
<div class="block">Updates an existing staff message entry.
 <p>
 This method validates and updates the underlying message content as well as the user/staff references in the database.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#update(T)">update</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#update(T)">update</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>staffMessage</code> - The updated <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> entity.</dd>
<dt>Returns:</dt>
<dd>The updated <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object if the update was successful, or <code>null</code> if no rows were affected.</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/lang/IllegalArgumentException.html" title="class or interface in java.lang" class="external-link">IllegalArgumentException</a></code> - If the provided staff message fails validation.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="delete(int)">
<h3>delete</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type">void</span>&nbsp;<span class="element-name">delete</span><wbr><span class="parameters">(int&nbsp;id)</span></div>
<div class="block">Deletes a staff message from the "StaffMessages" table.
 <p>
 The associated underlying <a href="../../model/entities/Message.html" title="class in database.model.entities"><code>Message</code></a> will be removed automatically via cascading delete rules if configured.
 </p></div>
<dl class="notes">
<dt>Specified by:</dt>
<dd><code><a href="../IRepository.html#delete(int)">delete</a></code>&nbsp;in interface&nbsp;<code><a href="../IRepository.html" title="interface in database.repository">IRepository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Overrides:</dt>
<dd><code><a href="../Repository.html#delete(int)">delete</a></code>&nbsp;in class&nbsp;<code><a href="../Repository.html" title="class in database.repository">Repository</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</code></dd>
<dt>Parameters:</dt>
<dd><code>id</code> - The primary key (staffMessageID) of the staff message to delete.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="getUniqueChats(int)">
<h3>getUniqueChats</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../model/entities/User.html" title="class in database.model.entities">User</a>&gt;</span>&nbsp;<span class="element-name">getUniqueChats</span><wbr><span class="parameters">(int&nbsp;staffId)</span></div>
<div class="block">Retrieves all unique users that a given staff member is chatting with.
 <p>
 This method fetches distinct <a href="../../model/entities/User.html" title="class in database.model.entities"><code>User</code></a> entities representing users involved in a chat with the specified staff member.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>staffId</code> - The unique identifier of the staff member.</dd>
<dt>Returns:</dt>
<dd>A <code>List</code> of unique <a href="../../model/entities/User.html" title="class in database.model.entities"><code>User</code></a> objects.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="loadChat(int,int)">
<h3>loadChat</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="https://docs.oracle.com/en/java/javase/23/docs/api/java.base/java/util/List.html" title="class or interface in java.util" class="external-link">List</a>&lt;<a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a>&gt;</span>&nbsp;<span class="element-name">loadChat</span><wbr><span class="parameters">(int&nbsp;userId,
 int&nbsp;staffId)</span></div>
<div class="block">Loads the complete chat history between a specific user and a staff member.
 <p>
 The messages are ordered chronologically (oldest first) based on the underlying message creation time.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>userId</code> - The identifier of the user.</dd>
<dd><code>staffId</code> - The identifier of the staff member.</dd>
<dt>Returns:</dt>
<dd>A <code>List</code> of <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> objects representing the chat history.</dd>
</dl>
</div>
</section>
</li>
<li>
<section class="detail" id="sendMessage(database.model.entities.Message,int,int)">
<h3>sendMessage</h3>
<div class="horizontal-scroll">
<div class="member-signature"><span class="modifiers">public</span>&nbsp;<span class="return-type"><a href="../../model/entities/StaffMessage.html" title="class in database.model.entities">StaffMessage</a></span>&nbsp;<span class="element-name">sendMessage</span><wbr><span class="parameters">(<a href="../../model/entities/Message.html" title="class in database.model.entities">Message</a>&nbsp;message,
 int&nbsp;userId,
 int&nbsp;staffId)</span></div>
<div class="block">Sends a new message between a user and a staff member.
 <p>
 This method creates a new <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> based on the provided <a href="../../model/entities/Message.html" title="class in database.model.entities"><code>Message</code></a> entity,
 sender identifier, and staff identifier, then persists it in the database.
 The provided <code>message</code> will have its sender (userId) set to the provided <code>userId</code>.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>message</code> - The <a href="../../model/entities/Message.html" title="class in database.model.entities"><code>Message</code></a> entity containing the message content.</dd>
<dd><code>userId</code> - The identifier of the sender (user or staff) for the message.</dd>
<dd><code>staffId</code> - The identifier of the staff member associated with the chat.</dd>
<dt>Returns:</dt>
<dd>The newly created <a href="../../model/entities/StaffMessage.html" title="class in database.model.entities"><code>StaffMessage</code></a> object.</dd>
</dl>
</div>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
</div>
</body>
</html>
